# Cloudhopper SMPP Configuration
# This file contains all Cloudhopper-specific settings
# Set cloudhopper.enable=true to activate Cloudhopper implementation

# ============================================================================
# Core Settings
# ============================================================================

# Enable Cloudhopper implementation (default: false uses Logica)
cloudhopper.enable=false

# Connection details
cloudhopper.host=localhost
cloudhopper.port=2776
cloudhopper.system-id=test_user
cloudhopper.password=test_pass
cloudhopper.system-type=
cloudhopper.service-type=

# ============================================================================
# Bind Configuration
# ============================================================================

# Bind modes (can enable multiple)
cloudhopper.bind.transmitter=true
cloudhopper.bind.receiver=true
cloudhopper.bind.transceiver=false

# Interface version
cloudhopper.interface-version=34

# ============================================================================
# Timeout Settings (milliseconds)
# ============================================================================

cloudhopper.connect-timeout=10000
cloudhopper.bind-timeout=5000
cloudhopper.request-expiry-timeout=30000
cloudhopper.window-monitor-interval=15000
cloudhopper.enquire-link-timer=30000
cloudhopper.enquire-link-timeout=10000

# ============================================================================
# Window and Throughput Settings
# ============================================================================

cloudhopper.window-size=100
cloudhopper.max-connection-size=10
cloudhopper.throttle-rate=100

# ============================================================================
# Reconnection Settings
# ============================================================================

cloudhopper.reconnect.enabled=true
cloudhopper.reconnect.initial-delay=1000
cloudhopper.reconnect.max-delay=60000
cloudhopper.reconnect.backoff-multiplier=2.0
cloudhopper.reconnect.max-attempts=10

# ============================================================================
# Encoding Configuration
# ============================================================================

# Default encoding
cloudhopper.encoding.default=GSM7

# Fallback chain (comma-separated)
cloudhopper.encoding.fallback-chain=GSM7,ISO-8859-1,UTF-8

# Auto-detect encoding from message content
cloudhopper.encoding.auto-detect=true

# Confidence threshold for encoding detection (0.0 to 1.0)
cloudhopper.encoding.detection-confidence=0.7

# ============================================================================
# Concatenation Settings
# ============================================================================

# Default concatenation type: DEFAULT, UDHI, SAR, PAYLOAD, TEXT_BASE, UDHI_PAYLOAD
cloudhopper.concatenation.default-type=UDHI

# Maximum message parts
cloudhopper.concatenation.max-parts=255

# Use 16-bit reference numbers for UDHI
cloudhopper.concatenation.use-16bit-ref=false

# Part delay in milliseconds (0 = no delay)
cloudhopper.concatenation.part-delay=0

# ============================================================================
# TLV Configuration
# ============================================================================

# Custom TLV support
cloudhopper.tlv.owner.enabled=true
cloudhopper.tlv.owner.tag=0x1926

cloudhopper.tlv.message-id.enabled=true
cloudhopper.tlv.message-id.tag=0x1927

cloudhopper.tlv.message-time.enabled=true
cloudhopper.tlv.message-time.tag=0x1928

# ============================================================================
# Special Features
# ============================================================================

# Phone pattern routing
cloudhopper.features.phone-pattern-routing=true

# Skip number (messages to this number are not sent)
cloudhopper.features.skip-number=999999999

# Skip delay value
cloudhopper.features.skip-delay=999999999

# Alphanumeric sender detection
cloudhopper.features.alphanumeric-detection=true

# Premium number handling
cloudhopper.features.premium-routing=true

# ============================================================================
# Message Caching
# ============================================================================

cloudhopper.cache.enabled=true
cloudhopper.cache.max-size=10000
cloudhopper.cache.ttl-minutes=60
cloudhopper.cache.preserve-encoding=true

# ============================================================================
# Delivery Receipt Settings
# ============================================================================

cloudhopper.dr.enabled=true
cloudhopper.dr.format=standard
cloudhopper.dr.include-text=false
cloudhopper.dr.max-text-length=20

# ============================================================================
# Connection Monitoring
# ============================================================================

cloudhopper.monitor.enabled=true
cloudhopper.monitor.health-check-interval=10000
cloudhopper.monitor.max-consecutive-failures=3
cloudhopper.monitor.stale-connection-timeout=300000

# ============================================================================
# HTTP Simulator Settings
# ============================================================================

http.simulator.enabled=true
http.simulator.port=8090
http.simulator.context-path=/api

# Supported providers
http.simulator.providers=default,gcm,cellcom,mirs

# Provider-specific settings
http.simulator.gcm.max-message-size=4096
http.simulator.cellcom.max-message-size=1530
http.simulator.mirs.max-message-size=500

# ============================================================================
# Performance Tuning
# ============================================================================

# Thread pool settings
cloudhopper.threads.core-pool-size=10
cloudhopper.threads.max-pool-size=50
cloudhopper.threads.queue-capacity=1000

# Buffer sizes
cloudhopper.buffer.read-size=65536
cloudhopper.buffer.write-size=65536

# ============================================================================
# Logging
# ============================================================================

# Cloudhopper-specific logging
logging.level.com.cloudhopper=INFO
logging.level.com.telemessage.simulators.smpp_cloudhopper=DEBUG

# PDU logging
cloudhopper.logging.pdu.enabled=true
cloudhopper.logging.pdu.include-body=true
cloudhopper.logging.pdu.max-body-length=1000

# ============================================================================
# Metrics and Monitoring
# ============================================================================

# Enable metrics collection
cloudhopper.metrics.enabled=true
cloudhopper.metrics.jmx.enabled=true
cloudhopper.metrics.prometheus.enabled=true

# Metric names prefix
cloudhopper.metrics.prefix=smpp_cloudhopper

# ============================================================================
# Security
# ============================================================================

# TLS/SSL support
cloudhopper.ssl.enabled=false
cloudhopper.ssl.keystore-path=
cloudhopper.ssl.keystore-password=
cloudhopper.ssl.truststore-path=
cloudhopper.ssl.truststore-password=

# ============================================================================
# Backward Compatibility
# ============================================================================

# Emulate Logica behaviors
cloudhopper.compat.logica.emulation=true
cloudhopper.compat.strict-mode=false

# ============================================================================
# Debug Settings
# ============================================================================

# Enable debug mode
cloudhopper.debug=false

# Dump PDUs to file
cloudhopper.debug.dump-pdus=false
cloudhopper.debug.dump-path=logs/pdus/

# Simulate network issues
cloudhopper.debug.simulate-network-delay=0
cloudhopper.debug.simulate-network-loss=0.0